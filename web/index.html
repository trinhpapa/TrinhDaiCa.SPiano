<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPiano</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            overflow: hidden;
            user-select: none;
            touch-action: manipulation;
        }

        .app {
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            justify-content: flex-end;
            align-items: stretch;
            align-content: stretch;
            height: 100vh;
        }

        .setting {
            width: 100%;
            height: 60px;
            background: linear-gradient(145deg, #1a1a1a, #1d1d1d 25%, #000000 50%, #1d1d1d 75%, #1a1a1a);
            border-bottom: 1px solid #0d0d0d;
            order: -1;
        }

        .player {
            width: 100%;
            background-color: #fff;
            height: 307px;
        }

        .piano-key-container {
            flex: 1;
            height: 380px;
            position: relative;
            background-color: #f0f0f0;
            border-top: 3px solid #e93838;
            /* font-size: 0; */
        }

        .piano-key {
            cursor: pointer;
            display: inline-block;
            height: 100%;
            outline: 0;
            margin: 0;
            padding: 0;
            background-color: white;
            border: none;
            border-bottom: 1rem solid rgba(0, 0, 0, 0.25);
        }

        .piano-key:active {
            background-color: #C6C6C6 !important;
            transform: translateY(0.25rem);
        }

        .piano-key__sharp {
            position: absolute;
            color: white;
            height: 50%;
            z-index: 1;
            background-color: #292929;
        }
    </style>
</head>

<body>
    <section class="app">
        <div class="setting"></div>
        <div class="counter"></div>
        <div class="player">
            <svg id="svg-stave" width="100%" height="100%">
                <defs>
                    <path id="line" d="M0 0h500" stroke="#000" fill="none" stroke-width="1"></path>
                    <path id="smallline" d="M0 0h40" stroke="#000" fill="none"></path>
                    <path id="treble-clef"
                        d="M -4.3,4.8 C -5.9,4.6 -8.7,2.2 -8.7,-0.9 C -8.6,-4.5 -5.4,-8.5 -1.3,-8.5 C 2.7,-8.4 6,-4.9 6,-0.1 C 6.1,3.7 3.5,8.8 -3,8.8 C -8.7,8.9 -14.7,4.8 -14.8,-3.3 C -15.2,-16.7 1.9,-19.1 2.2,-29.6 C 2.2,-30.9 1.9,-31.9 0.6,-31.9 C -2.8,-31.9 -4.1,-24.4 -4.1,-23.2 C -4,-20.4 1,13.5 0.9,16.7 C 0.6,20.3 -1.8,22.7 -5.4,22.6 C -9.6,22.4 -11.6,19.9 -11.6,17.4 C -11.8,15.5 -10.1,13.1 -7.9,13.1 C -6,13.1 -4.7,15.1 -4.8,16.7 C -4.8,19.1 -7.2,20.2 -8.4,19.9 C -7.9,20.8 -6.7,21.4 -5.4,21.4 C -1.5,21.4 -0.3,18.3 -0.2,15.8 C -0.2,12.8 -5.4,-17.8 -5.3,-25.4 C -5.3,-30 -2.8,-37.1 0.4,-37.1 C 1.5,-37.2 3.5,-33.3 3.5,-28.3 C 3.5,-12.1 -12.2,-12.4 -12.6,-1.2 C -12.8,3.6 -8.8,7.6 -4,7.7 C 3,7.7 3.5,2.9 3.6,1.6 C 3.6,-0.8 1.6,-4.2 -2,-4.2 C -4.2,-4.2 -6.8,-2 -6.7,0.4 C -6.6,2.2 -5.5,3.5 -4.1,4.3 C -3.7,4.4 -4,4.8 -4.3,4.8 Z"
                        transform="translate(45 100) scale(2.0)"></path>
                    <path id="base-clef"
                        d="M -8.4,-0.7 C -8.4,0.7 -9.6,2.3 -11.9,2.3 C -13.8,2.3 -15.9,1.2 -15.9,-1.6 C -15.9,-5.8 -10.8,-8.1 -7.2,-8.1 C -3,-8.1 1.4,-5.1 1.4,0.6 C 1.4,9.2 -8.8,14.5 -16.5,18.5 L -16.6,17.7 C -6,11.1 -3.5,5.5 -3.1,-0.5 C -3.1,-1.4 -3.2,-7.2 -8.9,-7.1 C -10.9,-7.1 -13.6,-5.6 -13.8,-3.6 C -13.8,-3.3 -13.3,-3 -13,-3 C -12.6,-3 -12.4,-3.4 -11,-3.3 C -10.1,-3.3 -8.4,-2.5 -8.4,-0.7 Z M 2.7,3.4 C 2.7,4.4 3.6,5.4 4.7,5.4 C 5.8,5.3 6.5,4.3 6.5,3.3 C 6.5,2.5 5.4,1.6 4.5,1.6 C 3.5,1.6 2.7,2.5 2.7,3.4 Z M 2.7,-3.8 C 2.7,-2.9 3.4,-1.9 4.5,-1.9 C 5.6,-1.9 6.4,-2.7 6.4,-3.8 C 6.4,-4.7 5.5,-5.6 4.6,-5.6 C 3.6,-5.6 2.8,-4.7 2.7,-3.8 Z"
                        transform="translate(45 200) scale(2.0)"></path>
                </defs>
                <g id="stave">
                    <use xlink:href="#treble-clef"></use>
                    <use xlink:href="#base-clef"></use>
                </g>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 60.5h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 75.5h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 90.5h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 105.5h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 120.5h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 180h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 195h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 210h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 225h600"></path>
                <path fill="none" stroke="#000" stroke-width="2" d="M0 240h600"></path>
            </svg>
        </div>
        <div class="piano-key-container">
            <button class="piano-key" data-sound="C"></button>
            <button class="piano-key piano-key__sharp" data-sound="C#"></button>
            <button class="piano-key" data-sound="D"></button>
            <button class="piano-key piano-key__sharp" data-sound="D#"></button>
            <button class="piano-key" data-sound="E"></button>
            <button class="piano-key" data-sound="F"></button>
            <button class="piano-key piano-key__sharp" data-sound="F#"></button>
            <button class="piano-key" data-sound="G"></button>
            <button class="piano-key piano-key__sharp" data-sound="G#"></button>
            <button class="piano-key" data-sound="A"></button>
            <button class="piano-key piano-key__sharp" data-sound="A#"></button>
            <button class="piano-key" data-sound="B"></button>
        </div>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", e => {
            let bodyWidth = document.body.clientWidth;
            let pianoKeys = document.querySelectorAll(".piano-key");
            pianoKeys.forEach((key, index) => {
                if (key.classList.contains("piano-key__sharp")) {
                    key.style.width = `${bodyWidth / 7 * 0.6}px`;
                    key.style.marginLeft = ` -${bodyWidth / 7 * 0.35}px`;
                    return;
                }
                key.style.width = `${bodyWidth / 7 - 3.6}px`;
            });
        });
    </script>

    <script src="Tone.js"></script>
</body>

</html>